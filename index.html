<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>¡Te quiero!</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<style type="text/css">
		@font-face {
			font-family: digit;
			src: url('digital-7_mono.ttf') format("truetype");
		}
	</style>
	<link href="css/default.css" type="text/css" rel="stylesheet">
	<script type="text/javascript" src="js/jquery.js"></script>
	<script type="text/javascript" src="js/garden.js"></script>
    <script type="text/javascript" src="js/functions_dev.js"></script>
</head>

<body>
	<div id="mainDiv">
		<div id="content">
			<div id="loveHeart">
				<canvas id="garden"></canvas>
				<div id="words">
					<div id="messages">
						Mi amor, quedan
						<div id="elapseClock"></div>
						<div id="messages2">para nuestro día.</div>
					</div>
					<div id="messagefinal" hidden>❤️ 11 MESAZOS JUNTOS MI AMOR ❤️</div>
					<div id="loveu">
						<a id="link1">Te amo y te amaré siempre</a><br/>
						<div class="signature">- Tu imbecil</div><br/>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		var offsetX = $("#loveHeart").width() / 2;
		var offsetY = $("#loveHeart").height() / 2 - 55;

		var countdownFinished = false;
		var clockInterval = null;

		var hoy = new Date();

		var ending = new Date();
		ending.setFullYear(2025, 11, 1);

		function pad(num) {
			return num < 10 ? "0" + num : num;
		}

		function updateClock() {
			var now = new Date();
			var diff = (ending - now) / 1000; // segundos

			// Si ya ha pasado la fecha, dejamos todo a 0
			if (diff < 0) {
				diff = 0;
				countdownFinished = true;

				// ya no hace falta seguir actualizando el reloj
				if (clockInterval) {
					clearInterval(clockInterval);
				}

				// Ocultar el bloque de cuenta atrás
				$("#messages").hide();

				// Activar el link y darle un efecto
				$("#link1")
					.attr("href", "timeline.html")
					.fadeOut(500)
					.fadeIn(500);
			}

			var days = Math.floor(diff / (3600 * 24));
			diff = diff % (3600 * 24);

			var hours = Math.floor(diff / 3600);
			diff = diff % 3600;

			var minutes = Math.floor(diff / 60);
			diff = diff % 60;

			var seconds = Math.floor(diff);

			var html = '<span class="digit">' + days    + '</span> días ' +
					'<span class="digit">' + pad(hours)   + '</span> horas ' +
					'<span class="digit">' + pad(minutes) + '</span> minutos ' +
					'<span class="digit">' + pad(seconds) + '</span> segundos';

			$("#elapseClock").html(html);
		
		}

		if (!document.createElement('canvas').getContext) {
			var msg = document.createElement("div");
			msg.id = "errorMsg";
			msg.innerHTML = "Your browser doesn't support HTML5!<br/>Recommend use Chrome 14+/IE 9+/Firefox 7+/Safari 4+";
			document.body.appendChild(msg);
			$("#code").css("display", "none")
			$("#copyright").css("position", "absolute");
			$("#copyright").css("bottom", "10px");
			document.execCommand("stop");
		} else {
			setTimeout(function () {
				startHeartAnimation();
			}, 0);
		}

		updateClock();                 
    	clockInterval = setInterval(updateClock, 1000);

	</script>
</body>
</html>
